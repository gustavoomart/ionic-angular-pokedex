import{a as j}from"./chunk-NH77H3GU.js";import{a as d,b as w}from"./chunk-RWDMHOF2.js";import{A as k,G as _,M as S,N as b,V as C,W as I,aa as y,ca as T,fa as E,ga as F,ia as H,j as a,ja as M,k as p,l as f,o as r,q as n,r as o,s as u,u as m,w as g,x as h,z as P}from"./chunk-2IGUULTY.js";import"./chunk-AW5PRJD7.js";import"./chunk-X2LLLM27.js";import"./chunk-GDTBDVVA.js";import"./chunk-EYVCEYVV.js";import"./chunk-YKMIF4NY.js";import"./chunk-YVBCZ55L.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-OYAVQN5W.js";var L=()=>["/favorites"],K=(()=>{let s=class s{constructor(t,i,e){this.router=t,this.pokeapiService=i,this.favoritesService=e,this.currentPage=0,this.limit=24,this.pokemons=[],this.totalPages=0}ngOnInit(){this.pokeapiService.getTotalPages(this.limit).subscribe(t=>{this.totalPages=t,this.loadPokemonsPage(0)})}ionViewWillEnter(){this.pokemons.length>0&&this.favoritesService.loadFavoriteStatus(this.pokemons)}loadPokemonsPage(t){let i=t*this.limit;this.pokeapiService.getPokemonsList(this.limit,i).subscribe(e=>{this.pokemons=e,this.currentPage=t,this.favoritesService.loadFavoriteStatus(this.pokemons)})}onPageInputChange(t){let e=Number(t.detail.value)-1;!isNaN(e)&&e>=0&&e<this.totalPages&&this.loadPokemonsPage(e)}onCardClick(t){this.router.navigate(["/details",t.id],{state:{pokemon:t}})}onFavoriteToggle(t){this.favoritesService.toggleFavorite(t.pokemon)}};s.\u0275fac=function(i){return new(i||s)(p(S),p(d),p(w))},s.\u0275cmp=f({type:s,selectors:[["app-home"]],features:[P([d])],decls:19,vars:10,consts:[["slot","end"],[3,"routerLink"],["slot","icon-only","name","heart"],[1,"ion-padding","ion-content",3,"fullscreen"],[3,"cardClick","favoriteToggle","pokemons","favoriteStatus"],[1,"pagination-container"],["shape","round","size","small",2,"margin-right","16px",3,"click","disabled"],["slot","icon-only","name","caret-back-outline"],["type","number","min","1",2,"width","36px","text-align","center",3,"ionChange","value","max"],[2,"margin-left","16px","margin-right","16px"],["shape","round","size","small",3,"click","disabled"],["slot","icon-only","name","caret-forward-outline"]],template:function(i,e){i&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),g(3,"POKEDEX (Angular + Ionic)"),o(),n(4,"ion-buttons",0)(5,"ion-button",1),u(6,"ion-icon",2),o()()()(),n(7,"ion-content",3)(8,"app-pokemon-grid",4),m("cardClick",function(l){return e.onCardClick(l)})("favoriteToggle",function(l){return e.onFavoriteToggle(l)}),o(),n(9,"div",5)(10,"ion-button",6),m("click",function(){return e.loadPokemonsPage(e.currentPage-1)}),u(11,"ion-icon",7),o(),n(12,"ion-input",8),m("ionChange",function(l){return e.onPageInputChange(l)}),o(),n(13,"span"),g(14,"/"),o(),n(15,"span",9),g(16),o(),n(17,"ion-button",10),m("click",function(){return e.loadPokemonsPage(e.currentPage+1)}),u(18,"ion-icon",11),o()()()),i&2&&(a(5),r("routerLink",k(9,L)),a(2),r("fullscreen",!0),a(),r("pokemons",e.pokemons)("favoriteStatus",e.favoritesService.favoriteStatus),a(2),r("disabled",e.currentPage===0),a(2),r("value",e.currentPage+1)("max",e.totalPages),a(4),h(e.totalPages),a(),r("disabled",e.currentPage+1>=e.totalPages))},dependencies:[_,I,T,M,F,y,H,C,E,b,j],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}"]});let v=s;return v})();export{K as HomePage};
